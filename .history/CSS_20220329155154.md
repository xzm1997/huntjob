# 选择器
## CSS选择器的优先级：
- **内联**>**ID**>**类**=**伪类**>**元素选择器**

## CSS样式选择器
- 当同一个元素有多种不同的选择器`css`样式时，计算每个选择器的权重，权重值最大的选择器的`css`优先表示
- **第一等**：代表内联样式，如: `style=""`，权值为**1000**。
- **第二等**：代表`ID`选择器，如：`#content`，权值为**100**。
- **第三等**：代表类，伪类和属性选择器，如`.content`，权值为**10**。
- **第四等**：代表类型选择器和伪元素选择器，如`div` `p`，权值为**1**。

## 标签选择器
- **id选择器**：当前页面唯一，`#`
- **类(class）选择器**：当前页面可以多个，`.`
- **标签选择器**：当前页面上所有标签名为`xxx`的元素，比如`div{}`,`h1{}`,`span{}`等
- **群组选择器**：用逗号分隔，被逗号分隔的元素（选择器）全部执行统一的代码片段，比如`div`,`p`,`h1{}`
- **包含选择器**`.box` `span{} `
- **通配符`*`**：找到页面上符合规则的所有元素，但是不建议使用通配符。

## 伪类与伪元素
- CSS **伪类**是添加到选择器的关键字，指定要选择的元素的**特殊状态**。
- **伪类**是选择器的一种，它用于**选择处于特定状态的元素**，比如当它们是这一类型的第一个元素时，或者是当鼠标指针悬浮在元素上面的时候。它们表现得会像是你向你的文档的某个部分应用了一个类一样，帮你在你的标记文本中减少多余的类，让你的代码更灵活、更易于维护。
- **伪类**就是**开头为冒号**的关键字
  - `:last-child`
  - `:only-child`
  - `:invalid`
- **伪元素**以类似方式表现，不过表现得是像你往标记文本中加入全新的HTML元素一样，而不是向现有的元素上应用类。伪元素开头为双冒号`::`。
  - `::first-line` 即使单词/字符的数目改变，它也只会选中第一行。

## 常用标签
### `<a>`
- a标签不能套a标签
### `<p>`
- p标签不能套块标签

# 布局

## 盒子模型
![盒子模型](https://mdn.mozillademos.org/files/8685/boxmodel-(3).png)
- 所有HTML元素可以看作**盒子**，在CSS中，`box model`这一术语是用来**设计**和**布局**时使用。
- CSS盒模型本质上是一个盒子，封装周围的HTML元素，它包括：**边距**，**边框**，**填充**，和**实际内容**。
- 盒模型允许我们在其它元素和周围元素边框之间的空间放置元素。
- **组成**
  - `Margin`**外边距**: 清除**边框外**的区域，外边距是透明的。
    - `margin auto`是自动根据剩余的长度居中对齐
    - **外边距折叠**：块的上外边距和下外边距有时合并(折叠)为单个边距，其大小为单个边距的最大值。**出现场景**：同一层相邻元素之间、没有内容将父元素和后代元素分开、空的块级元素
  - `Border`**边框**: 围绕在内边距和内容外的边框。
  - `Padding`**内边距**: 清除内容周围的区域，内边距是透明的。
  - `Content`**内容**: 盒子的内容，显示文本和图像。
- **实例**
    ```
    div {
        width: 300px;
        border: 25px solid green;
        padding: 25px;
        margin: 25px;
    }
    ```
## 属性
属性|说明
| :---: | :---:|
`align`|规定 `div` 元素中的内容的水平对齐方式
`text-align`|规定元素中的文本的水平对齐方式
`margin auto`|自动根据剩余的长度居中对齐
`dp`|虚拟像素，在不同的像素密度的设备上会自动适配
`em`|自动适应用户所使用的字体
`px`|元素像素

## `BFC` 块级格式化上下文
- `BFC`就是css布局的一个概念，是一块区域，一个环境。
- 效果演示：<a src = "https://www.cnblogs.com/xiaohuochai/p/5248536.html">深入理解BFC</a>
- **定义**
  - `BFC`(Block formatting context)直译为"块级格式化上下文"。它是一个**独立的渲染区域**，只有`Block-level box`参与， 它规定了内部的`Block-level Box`如何布局，并且与这个区域外部毫不相干。
  - 文档流分为**定位流**、**浮动流**和**普通流**三种。而普通流其实就是指`BFC`中的`FC`。
  - `BFC` 可以简单的理解为**某个元素的一个 CSS 属性**，只不过这个属性**不能被开发者显式的修改**，拥有这个属性的元素对内部元素和外部元素会表现出一些特性
- **触发条件**
    项目|元素|说明
    | :---: | :---:| :---:|
    根元素|`<html>`
    浮动元素|`float`|属性不是 `none`
    绝对定位元素|`position`|为 `absolute` 或 `fixed`
    `display`|`display`|值为 `flow-root`
    行内块元素|`display`|`inline-block`
    表格单元格|`display`|`table-cell`，`HTML`表格单元格默认为该值
    表格标题|`display`|`table-caption`，`HTML`表格标题默认为该值
    匿名表格单元格元素|`display`| `table`、`table-row`、 `table-row-group`、`table-header-group`、`table-footer-group` 或 `inline-table`
    弹性元素|`display`|`flex`、`inline-flex`的直接子元素
    网格元素|`display`|`grid`、`inline-grid` 的直接子元素
    `overflow`|`overflow`|块元素值不为 `visible`
    `contain`|`contain`|值为 `layout`、`content` 或 `paint` 
    多列容器|`column-count`、`column-width`|不为 `auto`或 `column-count=1`
    `column-span`|`column-span`|`all` 
- `BFC`**布局规则**：
  1. 内部的`Box`会在**垂直方向**，一个接一个地放置。
  2. `Box`垂直方向的**距离**由`margin`决定。属于同一个`BFC`的两个相邻`Box`的`margin`会发生**重叠**
  3. 每个元素的`margin box`的左边， 与包含块`border box`的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此。
  4. `BFC`的区域不会与`float box`重叠。
  5. `BFC`就是页面上的一个**隔离的独立容器**，容器里面的子元素不会影响到外面的元素。反之也如此。
  6. 计算`BFC`的高度时，浮动元素也参与计算
- `BFC` **作用**：
  1. **自适应**两栏布局
  2. 可以阻止元素被浮动元素**覆盖**
  3. 可以包含浮动元素——**清除内部浮动**
  4. 分属于不同的`BFC`时可以阻止`margin`**重叠**

## `overflow` 属性
- CSS属性 `overflow` 定义当一个元素的内容太大而无法适应块级格式化上下文时候该做什么
- 
- **效果演示**：<a src = 'https://developer.mozilla.org/zh-CN/docs/Web/CSS/overflow'>overflow</a>
  值|描述
  | :---: | :---:|
  `visible`|默认值。内容不会被修剪，会呈现在元素框之外。
  `hidden`|内容会被修剪，并且其余内容是不可见的。
  `scroll`|内容会被修剪，但是浏览器会显示滚动条以便查看其余的内容。必会出现滚动条
  `auto`|如果内容被修剪，则浏览器会显示滚动条以便查看其余的内容。
  `inherit`|规定应该从父元素继承 `overflow` 属性的值。

## 高度塌陷
- **概述**
  - 在文档流中，若**父元素未设置高度**，那么父元素的高度默认是被子元素撑开的，即子元素多高，父元素就有多高。但是当子元素设置浮动之后，子元素就会完全脱离文档流，父元素还在文档流中，此时父元素的高度就没有子元素撑起（子元素无法撑起父元素的高度），从而导致父元素的高度塌陷。
  - 简单来说，就是包含含有浮动的元素的上一级的高度变为0了，下面的元素会上去，这样会导致**页面布局混乱**
- **解决**
  1. 给父元素添加声明`overflow：hidden`
     - **优点**：代码少、简单
     - **缺点**：
       1. 只适用于高版本游览器，IE6不支持。
       2. 不能和`position`定位配合使用，超出的尺寸会被隐藏
  2. 在浮动元素下方添加空 `div`，并给元素声明 `clear：both`
     - **优点**：代码少，浏览器兼容好，只需要兼容 IE 浏览器，因为在IE兼容部分块元素会自带`16px`的高度，需要添加 `height: 0;overflow: hidden;`
     - **缺点**：需要添加多余的**空标签**并**添加属性**
  3. 清除浮动法
     - **优点**：浏览器支持好
     - **缺点**：代码多
  4. 父元素添加浮动
     - **缺点**：会产生新的浮动问题
  - 参考: <a src = "https://zhuanlan.zhihu.com/p/162202283">高度塌陷最详细解决方案</a>

# CSS3新特性
## 概述
1. `CSS3`选择器
2. `CSS3`边框(Borders)
3. `CSS3`背景
4. `CSS3`渐变
5. `CSS3`文本效果
6. `CSS3`字体
7. `CSS3`转换和变形: 2D转换方法、3D转换属性
8. `CSS3`过度
9. `CSS3`动画
10. `CSS3`多列
11. `CSS3`盒模型
12. `CSS3`伸缩布局盒模型(弹性盒子)
13. `CSS3`多媒体查询

## `@media` 媒体查询器
- `@media` 可用于基于一个或多个媒体查询的结果来应用样式表的一部分。
- `@media` 规则可置于代码的**顶层**或位于其它任何`@`条件规则组内。
- 媒体类型
    值|描述
    | :---: | :---: |
    `all`|用于所有设备
    `aural`|已废弃。用于语音和声音合成器
    `braille`|已废弃。应用于盲文触摸式反馈设备
    `embossed`|已废弃。用于打印的盲人印刷设备
    `handheld`|已废弃。用于掌上设备或更小的装置，如PDA和小型电话
    `print`|用于打印机和打印预览
    `projection`|已废弃。用于投影设备
    `screen`|用于电脑屏幕，平板电脑，智能手机等。
    `speech`|应用于屏幕阅读器等发声设备
    `tty`|已废弃。用于固定的字符网格，如电报、终端设备和对字符有限制的便携设备
    `tv`|已废弃。用于电视和网络电视
- 参数
    值|描述
    | :---: | :---: |
    `width`|浏览器可视宽度。
    `height`|浏览器可视高度。
    `device-width`|设备屏幕的宽度。
    `device-height`|设备屏幕的高度。
    `orientatio`n|检测设备目前处于横向还是纵向状态。
    `aspect-ratio`|检测浏览器可视宽度和高度的比例。(例如：`aspect-ratio:16/9`)
    `device-aspect-ratio`|检测设备的宽度和高度的比例。
    `color`|检测颜色的位数。
    `color-index`|检查设备颜色索引表中的颜色，他的值不能是负数。
    `monochrome`|检测单色楨缓冲区域中的每个像素的位数。）
    `resolution`|检测屏幕或打印机的分辨率。(例如：`min-resolution:300dpi`)。
    `grid`|检测输出的设备是网格的还是位图设备。

## 新多媒体元素
- audio
- video
- source: 定义多媒体资源
- embed: 定义嵌入的内容，比如插件
- track: 为`<audio>`, `<video>`这些元素的媒介规定外部文本轨道

# 引用与导入
- `link`**属于HTML范畴**——除了加载CSS，还能支持其他事务，且在HTML页面加载的同时加载
- `@import`**属于CSS范畴**——只能加载CSS

# 加载与解析
- **加载**和**解析**是两个概念，加载是**并行**的，解析是**顺序**的

# Web程序对象作用域
- 常用的有三个：**请求作用域**，**会话作用域**，**应用上下文**。
- **请求作用域**`req`范围最小，需要的资源最少，作用当前请求 `session` 会话作用于本次对话，每个对话都有`JSessionID`
- `ServletContext`作用域范围大：`web`应用中所有都能够访问，生命周期和`web`容器一样长，维护所需资源多。
- 在满足需求内耗费的资源越小越好