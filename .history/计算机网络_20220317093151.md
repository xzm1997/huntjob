# 基本概念
## 层与数据
- **应用层**
  - 消息`message`
  - `DHCP`, `DNS`, `FTP`, `Gopher`, `HTTP`, `IMAP4`, `IRC`, `NNTP`, `XMPP`, `POP3`, `SIP`, `SMTP`, `SNMP`, `SSH`, `TELNET`, `RPC`, `RTCP`, `RTSP`, `TLS`, `SDP`, `SOAP`, `GTP`, `STUN`, `NTP`, 更多
- **传输层**
  - 数据段`segment`
  - `TCP`, `UDP`, `DCCP`, `SCTP`, `RTP`, `RSVP`, `PPTP`, 更多
- **网络层**
  - 分组、数据包`packet`, `datagram`
  - `IP (IPv4`, `IPv6)`, `ARP`, `RARP`, `ICMP`, `ICMPv6`, `IGMP`, `RIP`, `OSPF`, `BGP`, `IS-IS`, `IPsec`, 更多
- **链路层**
  - 帧`frame`
  - `802.11`, `802.16`, `Wi-Fi`, `WiMAX`, `ATM`, `DTM`, `令牌环`, `以太网`, `FDDI`, `帧中继`, `GPRS`, `EVDO`, `HSPA`, `HDLC`, `PPP`, `L2TP`, `ISDN`, 更多
- **物理层**
  - `P-PD` `Ubit`
  - `RS-443`, `RS-232C`, `RS-485`, `理-2593`
![计算机体系结构](https://uploadfiles.nowcoder.com/images/20200623/655130036_1592902110246_6247F5A3CCCC226448FC618CFC88868E)

## 层与设备
设备 | 作用于 | 层
| :---: | :---: | :---: |
网卡|作用于|物理层
中继器|作用于|物理层
集线器|作用于|物理层
网桥|作用于|数据链路层
交换机|作用于|数据链路层
路由器|作用于|网络层

## 网络协议
- `SNMP` **简单网络管理协议**。该协议能支持网络管理系统，用于监测连接到网络上的设备是否有任何引起管理者关注的情况。
- `FTP` (File Transfer Protocol) **文件传输协议**，用于Internet上的控制文件的双向传输。
- `ICMP` (Internet Control Message Protocol) **Internet控制报文协议**。用于IP主机、路由器之间传递控制消息
- `SMTP` (Simple Mail Transfer Protocal) 是**简单邮件传输协议**，是一组用于由源地址到目的地址传送邮件的规则，帮助每台计算机在发送或中转信件时找到下一个目的地。是**TCP协议**支持的应用协议。
- 接受邮件使用`POP3`


## 拓扑结构
- **总线型**`IEEE802.3`
  - 网络上所有的计算机都通过一条电缆相互连接起来。
  - **信号反射**和**终结器**：在总线型网络中，信号会沿着网线发送到整个网络。当信号到达线缆的端点时，将产生反射信号，这种发射信号会与后续信号发送冲突，从而使通信中断。为了防止通信中断，必须在线缆的两端安装**终结器**，以吸收端点信号，防止信号反弹。
- **星形拓朴结构**
  - 每个节点都由一个单独的通信线路连接到中心节点上。
  - 中心节点控制全网的通信，任何两台计算机之间的通信都要通过中心节点来转接。因些中心节点是网络的瓶颈，这种拓朴结构又称为集中控制式网络结构，这种拓扑结构是目前使用最普遍的拓扑结构，处于中心的网络设备跨越式集线器（Hub）也可以是交换机。
- **环形拓扑结构**
  - 环型拓扑结构是以一个共享的环型信道连接所有设备，称为令牌环。在环型拓扑中，信号会沿着环型信道按一个方向传播，并通过每台计算机。而且，每台计算机会对信号进行放大后，传给下一台计算机。同时，在网络中有一种特殊的信号称为令牌。令牌按顺时针方向传输。当某台计算机要发送信息时，必须先捕获令牌，再发送信息。发送信息后在释放令牌。
  - 环型结构的显著特点是每个节点用户都与两个相邻节点用户相连。
  - 工作站以**串行**方式顺序相连，形成一个**封闭**的环路结构。数据顺序通过每一工作站，直至到达数据的原发者才停止。
  - **不会有**多点冲突，每时每刻只有得到令牌的节点才能发送数据
- **树形拓扑结构**
  - 树型结构是星型结构的扩展，它由**根**结点和**分支**结点所构成
  - 对根结点的依赖性大，一旦根结点出现故障，将导致全网不能工作

# 硬件
## 传输介质
- 双绞线的最大传输距离为100m。如果要加大传输距离，在两段双绞线之间可安装中继器，最多可安装4个中继器。
- 同轴电缆的最大传输距离小于1000米
- 系带系统使用数字信号传输

# 计算
## 子网计算
- **TODO:** 待补充


# IP协议
## IP路由器功能
- 运行路由协议，设置路由表
- 监测到拥塞时，合理丢弃 IP 分组
- 根据收到的 IP 分组的目的 IP 地址，将其转发到合适的输出线路上

## IPv6
- 对于一个完整的`IPv6`地址，需要128位，已经被分成了8个段，每个段4个字符。也就是说要完整的表示一个`IPv6`地址，需要些32个字母
- 表示方法：首选格式、压缩表示、


# TCP协议
## 功能
- 完成对数据报的**确认**、**流量控制**和**网络拥塞**
- 自动检测数据报，并提供**错误重发**的功能
- 将多条路径传送的数据报按照原来的**顺序**进行排列，并对**重复**数据进行择取
- 控制**超时重发**，自动调整超时值
- 提供**自动恢复**丢失数据的功能
- *因此，除TCP功能以外需要程序员考虑的为发送数据的格式及应用层协议*


# HTTP协议
## Cookie、localStorage、sessionStorage
特性 | Cookie | localStorage | sessionStorage
| :---: | :---:| :---: | :---: |
数据的生命期|一般由服务器生成，可设置失效时间。如在浏览器端生成Cookie，默认是关闭浏览器后失效|除非被清除，否则永久保存|仅在当前会话下有效，关闭页面或浏览器后清除
存放数据大小|4K左右|一般为5MB|一般为5MB
与服务器端通信|每次都会携带在HTTP头中，如果使用cookie保存过多数据会带来性能问题|仅在客户端中保存，不参与和服务器的通信|仅在客户端中保存，不参与和服务器的通信
易用性|需要程序员封装，原生接口不友好|原生接口可以接受，亦可再次封装来对Object和Array有更好的支持|原生接口可以接受，亦可再次封装来对Object和Array有更好的支持

- 都是保存在浏览器端，且同源的

## `get`与`post`
- `GET`请求的数据会附在`URL`之后（就是把数据放置在`HTTP`协议头中），以`?`分割`URL`和传输数据，参数之间以`&;`相连
- `GET`方式提交的数据最多只能是1024字节，理论上`POST`没有限制，可传较大量的数据，`IIS4`中最大为80KB，IIS5中为100KB
- 在`ASP`中，服务端获取`GET`请求参数用`Request.QueryString`，获取`POST`请求参数用`Request.Form`。
- 在`JSP`中，用`request.getParameter()`来获取，虽然`JSP`中也有`request.getQueryString()`方法，但使用起来比较麻烦
- 在`PHP`中，可以用`$_GET`和`$_POST`分别获取`GET`和`POST`中的数据，而`$_REQUEST`则可以获取`GET`和`POST`两种请求中的数据。值得注意的是，`JSP`中使用`request`和`PHP`中使用`$_REQUEST`都会有隐患
- POST的安全性要比GET的安全性高。
  - *注意：这里所说的安全性和上面`GET`提到的“安全”不是同个概念。上面“安全”的含义仅仅是不作数据修改，而这里安全的含义是真正的`Security`的含义*

